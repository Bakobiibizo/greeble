<!-- Step Progress Partial
Return this from your endpoint to update step status.
Use HX-Trigger header to update specific steps.
-->

<!-- Single step update -->
<div 
  class="greeble-step-progress__step greeble-step-progress__step--{{ status }}" 
  data-step="{{ step_number }}"
  hx-swap-oob="true"
  id="step-{{ step_number }}"
>
  <div class="greeble-step-progress__step-indicator">
    {% if status == 'completed' %}
    <svg class="greeble-step-progress__step-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
      <polyline points="20 6 9 17 4 12"/>
    </svg>
    {% elif status == 'active' %}
    <svg class="greeble-step-progress__step-spinner" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="60" stroke-linecap="round"/>
    </svg>
    {% elif status == 'error' %}
    <svg class="greeble-step-progress__step-error" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
      <line x1="18" y1="6" x2="6" y2="18"/>
      <line x1="6" y1="6" x2="18" y2="18"/>
    </svg>
    {% else %}
    <span class="greeble-step-progress__step-number">{{ step_number }}</span>
    {% endif %}
  </div>
  <div class="greeble-step-progress__step-content">
    <span class="greeble-step-progress__step-title">{{ title }}</span>
    <span class="greeble-step-progress__step-time">{{ time_display }}</span>
  </div>
</div>
